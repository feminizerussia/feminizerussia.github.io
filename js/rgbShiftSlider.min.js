(function(){window.rbgShiftSlider=function(a){var B,w,c,p,o,d,n,f,v,g,e,I,G,D,F,J,K,y,u,j,i,x,z,k,b,r,q,l,t,s,A;a=a||{},a.slideImages=a.hasOwnProperty('slideImages')?a.slideImages:[],a.stageWidth=a.hasOwnProperty('stageWidth')?a.stageWidth:1920,a.stageHeight=a.hasOwnProperty('stageHeight')?a.stageHeight:1080,a.displacementImage=a.hasOwnProperty('displacementImage')?a.displacementImage:'',a.fullScreen=!a.hasOwnProperty('fullScreen')||a.fullScreen,a.transitionDuration=a.hasOwnProperty('transitionDuration')?a.transitionDuration:.25,a.transitionGhostDuration=a.hasOwnProperty('transitionGhostDuration')?a.transitionGhostDuration:.25,a.transitionFilterIntensity=a.hasOwnProperty('transitionFilterIntensity')?a.transitionFilterIntensity:350,a.transitioSpriteIntensity=a.hasOwnProperty('transitioSpriteIntensity')?a.transitioSpriteIntensity:2,a.mouseDispIntensity=a.hasOwnProperty('mouseDispIntensity')?a.mouseDispIntensity:3,a.nav=!a.hasOwnProperty('nav')||a.nav,a.navElement=a.hasOwnProperty('navElement')?a.navElement:'.scene-nav',a.interactive=!a.hasOwnProperty('interactive')||a.interactive,a.autoPlay=!a.hasOwnProperty('autoPlay')||a.autoPlay,a.autoPlaySpeed=a.hasOwnProperty('autoPlaySpeed')?a.autoPlaySpeed:3e3,B=document.getElementById("rbgShiftSlider"),PIXI.utils.skipHello(),w=new PIXI.Container,c=PIXI.autoDetectRenderer(a.stageWidth,a.stageHeight,{transparent:!0}),o=new PIXI.Container,d=[],n=[],f=[],v=[],g=[],e=[];const m={x:0,y:0};y=0,u=0,j=0,i=0,b=0,r=!1;function E(){B.appendChild(c.view),w.addChild(o),a.fullScreen===!0&&(c.view.style.objectFit='cover',c.view.style.width='100%',c.view.style.height='100%',c.view.style.top='50%',c.view.style.left='50%',c.view.style.webkitTransform='translate( -50%, -50% ) scale(1.2)',c.view.style.transform='translate( -50%, -50% ) scale(1.2)'),p=new PIXI.ticker.Ticker,p.autoStart=!0,p.add(function(a){c.render(w)}),o.interactive=!0}function C(){var b,h,i;mixdownChannelFilter=new PIXI.filters.ColorMatrixFilter,mixdownChannelFilter.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],v.push(mixdownChannelFilter),containerMixdown=new PIXI.Container,containerMixdown.position.x=0,f.push(containerMixdown);for(b=0;b<a.slideImages.length;++b)n[b]=new PIXI.Texture.fromImage(a.slideImages[b]);for(b=0,h=f.length;b<h;b++)o.addChild(f[b]),texture=new PIXI.Texture.fromImage(a.displacementImage),e.push(new PIXI.Sprite(texture)),g.push(new PIXI.filters.DisplacementFilter(e[b])),i=new PIXI.Sprite(n[0]),d.push(i),d[b].width=c.view.width,d[b].height=c.view.height,d[b].anchor.set(.5),d[b].x=c.view.width/2,d[b].y=c.view.height/2,d[b].alpha=1,f[b].addChild(e[b],d[b]),f[b].filters=[g[b],v[b]],g[b].scale.x=0,g[b].scale.y=0,g[b].autoFit=!0;e[0].anchor.set(0),f[0].filters[1].blendMode=PIXI.BLEND_MODES.NORMAL}function h(c){TweenMax.set(m,{x:0,ease:Power0.easeOut}),k=new TimelineMax({onStart:function(){r=!0,TweenMax.to(m,a.transitionGhostDuration,{x:screen.width,ease:Power0.easeOut})},onComplete:function(){b=c,r=!1,a.interactive===!0&&H()},onUpdate:function(){j+=(m.x-j)/3,i+=(m.x-i)/3;for(var b=0,c=f.length;b<c;b++)g[b].scale.x=Math.atan(j-e[b].x)*(k.progress()*a.transitionFilterIntensity),e[b].position.x=i*(k.progress()*a.transitionSpriteIntensity)}}),k.to([d[0],d[1],d[2]],a.transitionDuration,{alpha:0,ease:Power2.easeOut},a.transitionDuration).add(h,a.transitionDuration);function h(){for(var b=0,e,g;b<a.slideImages.length;++b)if(b==c)for(e=0,g=f.length;e<g;e++)d[e].texture=n[b],k.to(d[e],a.transitionDuration,{alpha:1,ease:Power2.easeOut},a.transitionDuration)}}function H(){if(cancelAnimationFrame(z),k.isActive())return;for(var b=0,d=f.length;b<d;b++)e[b].x=0,e[b].y=0,g[b].scale.x=0,g[b].scale.y=0;function h(a){y=a.data.global.x,u=a.data.global.y}c();function c(){if(x=requestAnimationFrame(c),m.x>=screen.width){j+=(y-j)/a.mouseDispIntensity,i+=(u-i)/a.mouseDispIntensity;for(var b=0,d=f.length;b<d;b++)g[b].scale.x=j-e[b].x,g[b].scale.y=i-e[b].y,e[b].position.x=j,e[b].position.y=i}else cancelAnimationFrame(x)}}if(a.nav===!0){t=document.querySelectorAll(a.navElement);for(s=0;s<t.length;s++)A=t[s],A.onclick=function(c){return!r&&(this.getAttribute('data-nav')==='next'?(b>=0&&b<a.slideImages.length-1?h(b+1):h(0),a.autoPlay===!0&&(clearInterval(q),l())):(b>0&&b<a.slideImages.length?h(b-1):h(a.slideImages.length-1),a.autoPlay===!0&&(clearInterval(q),l())),!1)}}function l(){q=setInterval(function(){b=b+1,b===a.slideImages.length?(b=0,h(b)):h(b)},a.autoPlaySpeed)}function L(){if(E(),C(),a.autoPlay===!0){var c=Date.now();b=0,h(b),l()}else h(0)}L()}})()